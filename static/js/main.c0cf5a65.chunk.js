(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{15:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(4),o=n.n(s),c=n(2),l=(n(26),n(27),function(e){var t=e.user,n=t.name,a=t.email,s=t.address,o=s.street,c=s.city;return r.a.createElement("div",{className:"user"},r.a.createElement("span",{className:"user__name"},n),r.a.createElement("span",{className:"user__email"},a),r.a.createElement("div",{className:"user__address"},r.a.createElement("span",{className:"user__street"},"".concat(o," str., ")),r.a.createElement("span",{className:"user__city"},c)))}),u=(n(28),n(14)),i=n(8),m=n.n(i),p=n(11),d="https://jsonplaceholder.typicode.com/";function E(e){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={removeComment:function(e,t){return{type:"REMOVE_COMMENT",payload:{id:e,postId:t}}}},_=Object(c.b)(null,y)((function(e){var t=e.comment,n=e.removeComment,a=t.name,s=t.body,o=t.email,c=t.id,l=t.postId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return n(c,l)}},"X"),r.a.createElement("h3",{className:"comment__title"},a),r.a.createElement("p",{className:"comment__text"},s),r.a.createElement("p",{className:"comment__email"},o))})),h=(n(30),function(e){var t=e.comments;return r.a.createElement("ul",{className:"comments"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"comments__item comment"},r.a.createElement(_,{comment:e}))})))}),v=(n(31),{removePost:function(e){return{type:"REMOVE_POST",payload:e}}}),b=Object(c.b)(null,v)((function(e){var t=e.post,n=e.removePost,a=t.title,s=t.body,o=t.user,c=t.comments,u=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return n(u)}},"X"),r.a.createElement("h2",{className:"post__title"},a),r.a.createElement("p",{className:"post__text"},s),r.a.createElement(l,{user:o}),r.a.createElement("h2",{className:"post__comments"},"Comments"),r.a.createElement(h,{comments:c}))})),S=(n(32),function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Searched posts: ".concat(t.length)),r.a.createElement("ul",{className:"post-list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"post-list__item post"},r.a.createElement(b,{post:e}))}))))}),g=n(3),O={loadData:function(){return function(e){return e({type:"SET_LOADING",payload:!0}),Promise.all([E("".concat(d,"posts")),E("".concat(d,"users")),E("".concat(d,"comments"))]).then((function(t){var n=Object(u.a)(t,3),a=n[0],r=n[1],s=n[2];e({type:"SET_POSTS",posts:a}),e({type:"SET_COMMENTS",comments:s}),e({type:"SET_USERS",users:r}),e({type:"SET_IS_LOADED",payload:!0})})).catch((function(){e({type:"SET_ERROR",payload:!0})})).finally((function(){return e({type:"SET_LOADING",payload:!1})}))}},setQuery:function(e){return{type:"SET_QUERY",payload:e}}},N=Object(c.b)((function(e){return{isLoading:e.isLoading,isError:e.isError,isLoaded:e.isLoaded,query:e.query,posts:e.users.length&&e.comments.length?(t=e.posts,n=e.users,a=e.comments,t.map((function(e){return Object(g.a)({},e,{user:n.find((function(t){return t.id===e.userId})),comments:a.filter((function(t){return e.id===t.postId}))})}))):[]};var t,n,a}),O)((function(e){var t=e.isLoading,n=e.isLoaded,s=e.isError,o=e.loadData,c=e.setQuery,l=e.posts,u=e.query,i=Object(a.useMemo)((function(){return function(e,t){var n=e.toLowerCase();return t.filter((function(e){var t=e.title.toLowerCase(),a=e.body.toLowerCase();return t.includes(n)||a.includes(n)}))}(u,l)}),[u,l]);return s?r.a.createElement("p",{className:"error-message"},"Error occurred! Please, try again!"):r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("label",{htmlFor:"search",className:"app__label"},"Search post:  ",r.a.createElement("input",{className:"app__input",id:"search",type:"text",value:u,onChange:function(e){var t=e.target.value;c(t)}})),r.a.createElement(S,{posts:i})):r.a.createElement("button",{className:"start-button",type:"button",onClick:o,disabled:t},t?"Loading...":"Start load posts"))})),T=n(1),L=n(12),j=n(13),w=Object(T.combineReducers)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.payload}));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return t.users;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMENTS":return t.comments;case"REMOVE_COMMENT":return e.map((function(e){return e.id===t.payload.id&&e.postId===t.payload.postId?Object(g.a)({},e,{id:999}):Object(g.a)({},e)})).filter((function(e){return 999!==e.id}));default:return e}},isLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADED":return t.payload;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.payload;default:return e}},isError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.payload;default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.payload;default:return e}}}),R=Object(T.createStore)(w,{posts:[],users:[],comments:[],isLoading:!1,isLoaded:!1,isError:!1,query:""},Object(j.composeWithDevTools)(Object(T.applyMiddleware)(L.a)));o.a.render(r.a.createElement(c.a,{store:R},r.a.createElement(N,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c0cf5a65.chunk.js.map